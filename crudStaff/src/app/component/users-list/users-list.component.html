<!-- <div class="container">
    <button mat-raised-button (click)="mockUsers()" color="primary">Get mock users</button>
</div>
<div class="container">
    <p>Received: {{usersList}}</p>
</div> -->

<div class="container center">
    <h1 *ngIf="inputMode==1">Add User</h1>
    <h1 *ngIf="inputMode==2">Edit User id {{currentlyEditedId}}</h1>
</div>
<div class="container center">
    <ng-container *ngIf="inputMode!=0">
        <form [formGroup]="form.inputData" (ngSubmit)="onSubmit()" class="example-form">
            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Title</mat-label>
                <input formControlName="title" matInput placeholder="Full Stack Developer" value="">                
                <mat-error *ngIf="title?.errors?.required">
                    Please input title
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>First Name</mat-label>
                <input formControlName="firstName" matInput placeholder="Roy" value="">
                <mat-error *ngIf="firstName?.errors?.required">
                    Please input firstName
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Last Name</mat-label>
                <input formControlName="lastName" matInput placeholder="Meliaz" value="">
                <mat-error *ngIf="lastName?.errors?.required">
                    Please input lastName
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Email</mat-label>
                <input formControlName="email" matInput placeholder="mail@mail.com" value="">
                <mat-error *ngIf="email?.errors?.required">
                    Please input email
                </mat-error>
                <mat-error *ngIf="email?.errors?.email">
                    Please input correct email format
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Role</mat-label>
                <mat-select formControlName="role">
                    <mat-option [value]='"0"'>Admin</mat-option>
                    <mat-option [value]='"1"'>User</mat-option>
                </mat-select>
                <mat-error *ngIf="role?.errors?.required">
                    Please input role
                </mat-error>
            </mat-form-field>
            <mat-form-field *ngIf="inputMode==1" class="example-full-width" appearance="outline">
                <mat-label>Password</mat-label>
                <input formControlName="password" type="password" matInput placeholder="" value="">
                <mat-error *ngIf="password?.errors?.required">
                    Please input password
                </mat-error>
                <mat-error *ngIf="password?.errors?.minlength">
                    Minmum 6 characters
                </mat-error>
            </mat-form-field>
            <mat-form-field *ngIf="inputMode==1" class="example-full-width" appearance="outline">
                <mat-label>Confirm Password</mat-label>
                <input formControlName="confirmPassword" type="password" matInput placeholder="" value="">
                <mat-error *ngIf="confirmPassword?.errors?.required">
                    Please input confirmPassword
                </mat-error>
                <mat-error *ngIf="confirmPassword?.errors?.minlength">
                    Minmum 6 characters
                </mat-error>
            </mat-form-field>
            <button type="submit" mat-raised-button color="primary">{{inputMode==1 ? "Add" : "Edit"}}</button>
            <button (click)="cancelButton()" mat-raised-button color="warn">Cancel</button>
        </form>
    </ng-container>
    <ng-container *ngIf="inputMode==0">
        <button (click)="addButton()" mat-raised-button color="primary">Add new users</button>
    </ng-container>
</div>


<!-- <div class="container">
    <form class="example-form">
        <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Leave a comment</mat-label>
        <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Leave a comment</mat-label>
        <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Leave a comment</mat-label>
        <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
    </mat-form-field>
    <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Leave a comment</mat-label>
        <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
    </mat-form-field>
    </form>
</div> -->


<!-- <div class="container">
    <input type="text" name="" id="">
    <button mat-raised-button color="primary">Add new employee</button>
</div> -->

<div class="container">
    <!-- <h1>Users list:</h1> -->
    <table mat-table [dataSource]="usersList" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> id </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td>
      </ng-container>
    
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> firstName </th>
        <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
      </ng-container>
    
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> lastName </th>
        <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
      </ng-container>
    
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> email </th>
        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
      </ng-container>

      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> role </th>
        <td mat-cell *matCellDef="let element"> {{element.role}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> actions </th>
        <td mat-cell *matCellDef="let element">
            <button (click)="editButton(element.id)" mat-stroked-button color="primary" [disabled]="inputMode!=0">Edit</button>
            <button (click)="deleteButton(element.id)" mat-stroked-button color="primary" [disabled]="inputMode!=0">Delete</button>
        </td>
      </ng-container>
      
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
  

<br>
<br>
<br>
